<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For You</title>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #fce4ec;
            --envelope-color: #ff8fa3;
            --envelope-flap: #ff7eb3;
            --paper-color: #fffbf0;
            --text-color: #555;
            --heart-color: #ff4d6d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: var(--bg-color);
            font-family: 'Indie Flower', cursive;
            overflow: hidden;
            position: relative;
        }

        /* --- Floating Hearts --- */
        .bg-heart {
            position: absolute;
            color: rgba(255, 77, 109, 0.2);
            animation: float 10s infinite ease-in-out;
            z-index: 0;
            font-size: 2rem;
        }

        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            20% { opacity: 0.8; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        /* --- Envelope --- */
        .container {
            position: relative;
            z-index: 10;
        }

        .envelope-wrapper {
            position: relative;
            width: 300px;
            height: 200px;
            cursor: pointer; /* Changed logic in JS */
            transition: transform 0.5s ease;
            opacity: 0.7; /* Dimmed until loaded */
            pointer-events: none; /* Disabled until loaded */
        }
        
        .envelope-wrapper.loaded {
            opacity: 1;
            pointer-events: all;
            cursor: pointer;
        }

        .envelope-wrapper:hover {
            transform: scale(1.02);
        }

        .envelope {
            position: relative;
            width: 100%;
            height: 100%;
            background: var(--envelope-color);
            border-radius: 0 0 10px 10px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .envelope::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 150px solid var(--envelope-flap);
            border-top: 100px solid transparent;
            border-bottom: 100px solid transparent;
            z-index: 3;
        }

        .envelope::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 0;
            height: 0;
            border-right: 150px solid var(--envelope-flap);
            border-top: 100px solid transparent;
            border-bottom: 100px solid transparent;
            z-index: 3;
        }

        .envelope .flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 0;
            border-top: 100px solid #ff5c8a;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            transform-origin: top;
            transition: transform 0.6s 0.4s ease-in-out, z-index 0.6s ease-in-out;
            z-index: 4;
        }

        .envelope .pocket {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100px;
            background: var(--envelope-color);
            z-index: 3;
            border-radius: 0 0 10px 10px;
        }
        
        .heart-seal {
            position: absolute;
            top: -50px;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 30px;
            z-index: 5;
            transition: opacity 0.4s;
        }

        /* --- Letter Card --- */
        .letter-card {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.5);
            width: 90vw;
            max-width: 500px;
            height: 80vh; 
            max-height: 650px;
            background: var(--paper-color);
            background-image: repeating-linear-gradient(var(--paper-color) 0px, var(--paper-color) 24px, #e1e1e1 25px);
            padding: 30px;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            opacity: 0;
            z-index: 1;
            transition: all 0.8s ease-in-out;
            border: 1px solid #ddd;
            display: flex;
            flex-direction: column;
            overflow: hidden; 
        }

        .scroll-content {
            width: 100%;
            height: 100%;
            overflow-y: auto;
            padding-right: 10px;
            text-align: left;
            line-height: 25px;
            -webkit-overflow-scrolling: touch; 
        }

        /* Scrollbar aesthetics */
        .scroll-content::-webkit-scrollbar { width: 8px; }
        .scroll-content::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
        .scroll-content::-webkit-scrollbar-thumb { background: #ff8fa3; border-radius: 10px; }

        .salutation {
            font-weight: bold;
            font-size: 1.4rem;
            color: #d6336c;
            margin-bottom: 25px;
            margin-top: 10px;
            line-height: 30px;
        }

        p {
            font-size: 1.2rem;
            color: #444;
            margin-bottom: 25px; 
        }

        .signature {
            font-weight: bold;
            font-size: 1.4rem;
            margin-top: 40px;
            margin-bottom: 20px;
            color: #d6336c;
            text-align: right;
            line-height: 30px;
        }

        .envelope-wrapper.open .flap {
            transform: rotateX(180deg);
            z-index: 1;
        }
        
        .envelope-wrapper.open .heart-seal {
            opacity: 0;
        }

        .envelope-wrapper.open .letter-card {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            z-index: 20;
            transition-delay: 0.6s;
        }
        
        .click-hint {
            position: absolute;
            bottom: -40px;
            width: 100%;
            text-align: center;
            color: #888;
            font-size: 1.2rem;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }

        .scroll-hint {
            font-size: 0.9rem;
            color: #aaa;
            text-align: center;
            margin-top: 5px;
            margin-bottom: 15px;
            font-style: italic;
        }

        /* --- Music Player & Controls --- */
        
        /* 1. The YouTube Iframe: Must be visible (opacity > 0) to work on mobile */
        #youtube-player {
            position: fixed;
            top: 0;
            left: 0;
            width: 1px;
            height: 1px;
            opacity: 0.01; /* Invisible but technically "there" */
            z-index: -1;
            pointer-events: none;
        }

        /* 2. The Fallback Button: Shows if music fails to start */
        .music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #ff4d6d;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            z-index: 100;
            transition: transform 0.3s;
            display: none; /* Hidden initially */
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }

    </style>
</head>
<body>

    <div id="hearts-container"></div>

    <div id="youtube-player"></div>

    <div class="music-control" id="musicBtn" onclick="toggleMusic()">üéµ</div>

    <div class="container">
        <div class="envelope-wrapper" id="envelope" onclick="openEnvelope()">
            <div class="envelope">
                <div class="flap">
                    <div class="heart-seal">‚ù§</div>
                </div>
                <div class="pocket"></div>
            </div>
            <div class="click-hint" id="status-text">Loading Music...</div>
            
            <div class="letter-card" id="letter">
                <div class="scroll-content">
                    <div class="scroll-hint">(Scroll down to read) &darr;</div>
                    
                    <div class="salutation">Dear Bubbu / Kicchu / Shonu / Motugirl / Bassu / Kukku / Cutu / Cutie / Baby / Babygirl,</div>
                    
                    <p>Mujhe love letters likhna boht mushkil lagta hai waise, but jab bhi mai likhta hu aapka khoobsurat chehra dekh kar likhta hu. Wo aapki badi badi aankhein, sundar si naak, cute se hont, pyaare pyaare baal, wo chatpati hassi aapki jab aap muh par haath rakh kar haste ho. Boht pyaare lagte ho.</p>
                    
                    <p>Maybe maine ye boht baar bola hoga aapko lekin kal jab aap apni feelings ko vent out kar rahe the that aapko kitni restrictions hai lekin fir bhi aapne apne papa ke baare me kuch nahi bola out of frustration, this shows ki aap kitne saaf dil ke aur kitni respect dete ho, to the people is there in your life, you value them, AND I AM SUPER LUCKY TO BE ONE OF THEM!!</p>
                    
                    <p>Babe you are literally the best thing happened to me, and as 8 months have already been passed, it feels unreal to this date. Kal bhi mere mann me yahi tha ki maine kabhi nahi socha the ki mujhe aap jaisa koi milega jo itna non demanding and pyaar karne wala milega, jisse genuinely mai kya aur kaise paise kamaata hu kitna kamaata hu usme interest nahi hai, aapne kabhi ye nahi pucha ki aage paison ka kya socha hai, bas ye bola hi ki aage bhi mera haath aise hi thaame rakhna.</p>
                    
                    <p>You trust me blindly and have belief in me, this is what makes me so calm and positive, Aap mujhe apne bacche jaise rakhte ho, meri chhoti si chhoti baat ka khyaal rakhte ho, meri mummy ki tarah, chahe wo khaana peena ho ya kuch bhi. Mujhe baaki bf samaaj ke logon wali dikkat mehsus hi nahi hui ki gf kalesh karegi kahin gaya toh.</p>
                    
                    <p>And aapka meri taraf yahi approach dekh kar mujhe mann karta hai to be more transparent, more caring, more loving, and aapko obviously gale se lagaakar apne pass rakhna. You are sweet angel babe. Who came into my life and yes ye mera ab tak ka longest relationship hai and i hope ye last bhi ho.</p>
                    
                    <p>I haven't dated a woman before you. Aapke saath aane ke baad mera ladies ya females ko leke soch badli ki haan there is a difference between a girl and a woman. (like there is a solid difference between a boy and a man).</p>
                    
                    <p>Babe kal aap keh rahe the ki bas aapka husband aap par aisi tight restrictions naa rakhe. Believe me babe i will always love to see you fly higher and higher. See you happy and smiling and obviously yes kissing me out of joy as always, I love to be like a small baby boy around you. Even though mai 6 foot ka jungli aadmi dikhta hu. I cherish everything we have, and aage bhi i will give my all in this relationship.</p>
                    
                    <p>I will always be your biggest supporter, Remember that i will always be with you and aap kabhi bhi low feel kar rahe honge ya kuch bhi baat hogi, mai hamesha aapke saath rahunga aapke paas.</p>
                    
                    <p>Aaj 4 feb 2026 hai 2030-2031 me humari shaadi hogi, we are getting closer with each passing day. Aapki tareef ke liye shabd kam hai, But yes babygirl I will be there for you forever, holding your tiny hands gently, kissing them.</p>
                    
                    <p>Aap hamesha khush rahein yahi meri iccha hai, aur khush bhi mai hi rakhunga :)</p>
                    
                    <div class="signature">
                        Aapka Pyaara<br>
                        Kaalu Sootad <span style="color:red">&lt;3</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>

    <script>
        // --- Hearts Background ---
        function createHearts() {
            const container = document.getElementById('hearts-container');
            for (let i = 0; i < 20; i++) {
                let heart = document.createElement('div');
                heart.innerHTML = '‚ù§';
                heart.classList.add('bg-heart');
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 5 + 5) + 's';
                heart.style.animationDelay = (Math.random() * 5) + 's';
                heart.style.fontSize = (Math.random() * 2 + 1) + 'rem';
                container.appendChild(heart);
            }
        }
        createHearts();

        // --- YouTube Setup ---
        var player;
        var musicStarted = false;

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '10', // Non-zero for mobile
                width: '10',
                videoId: 'lG3RpIqP3CU',
                playerVars: {
                    'autoplay': 0,
                    'controls': 0,
                    'playsinline': 1, // Critical for iOS
                    'loop': 1,
                    'playlist': 'lG3RpIqP3CU',
                    'rel': 0
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }

        function onPlayerReady(event) {
            // Player is ready, enable the envelope
            const envelope = document.getElementById('envelope');
            const status = document.getElementById('status-text');
            
            envelope.classList.add('loaded');
            status.innerText = "Tap to Open & Play Music";
            
            // Set volume just in case
            event.target.setVolume(100);
        }

        // --- Interaction ---
        let isEnvelopeOpen = false;

        function openEnvelope() {
            if (isEnvelopeOpen) return;
            isEnvelopeOpen = true;
            
            const envelope = document.getElementById('envelope');
            const status = document.getElementById('status-text');
            const musicBtn = document.getElementById('musicBtn');
            
            // 1. Visual Animation
            envelope.classList.add('open');
            status.style.display = 'none';

            // 2. Try to play music immediately (Direct user interaction)
            if (player && typeof player.playVideo === 'function') {
                player.playVideo();
                musicStarted = true;
            }

            // 3. Show Backup Button after 1 second (in case autoplay fails)
            setTimeout(() => {
                musicBtn.style.display = 'flex';
                // Check if playing
                let state = player.getPlayerState();
                if (state !== 1) { // 1 = Playing
                     // If not playing, pulse the button
                     musicBtn.style.animation = "bounce 1s infinite";
                } else {
                    musicBtn.style.animation = "none";
                }
            }, 1000);

            // Cleanup
            envelope.onclick = null;
        }

        function toggleMusic() {
            if (!player) return;
            const btn = document.getElementById('musicBtn');
            
            // If strictly paused or unstarted
            if (player.getPlayerState() !== 1) {
                player.playVideo();
                btn.innerText = "üéµ";
                btn.style.animation = "none"; // Stop bouncing once clicked
            } else {
                player.pauseVideo();
                btn.innerText = "üîá";
            }
        }
    </script>
</body>
</html>
